## 数据库
### 第一章
#### 1.1 数据库库系统概述

* 数据（Data）：描述事务的符号记录称为数据。
* 数据库(DB)：长期存储在计算机内、有组织的、可共享的、大量的数据集合。
    1. 层次模型
    2. 网状模型
    3. 关系模型
* 数据库管理系统(DBMS)：是位于用户与操作系统直间的一层数据管理软件6
* 数据库系统(DBS)：由数据库、数据库管理系统、应用程序和数据库管理员组成（存储、管理、处理和为维护数据的系统）
![avatar](http://118.31.20.205/images/1.1.png)
### 1.2数据模型
![avatar](http://118.31.20.205/images/1.2.1.png)
*   数据模型：对现实事务数据特征的抽象
    *   概念模型：按用户观点对数据和信息建模 实际上是现实世界到机器世界的一个中间层次
        *   表示方法：E-R图
    *   机器世界的数据模型：按计算机系统的观点来组织数据，主要是描述数据的结构约束，而非数据本身的内涵
        *   逻辑模型：按计算机系统的观点对数据建模 主要用于DBMS的实现
        *   物理模型：是数据在计算机中的存储方式，是对数据最底层的抽象 (在计算机中如何存储 主要和硬件相关)
    *  信息世界的基本概念
    ![avatar](http://118.31.20.205/images/1.2.2.png)	
    ![avatar](http://118.31.20.205/images/1.2.3.png)		
    ![avatar](http://118.31.20.205/images/1.2.4.png)		
* 联系：
    * 一对一
    * 一对多
    * 多对多
* 概念模型的表示方法
![avatar](http://118.31.20.205/images/1.2.5.png)		
*  逻辑模型
    *  组成：数据结构、数据操作和数据的完整性约束条件三部分组成
        *  数据结构：描述数据库的组成对象以及对象之间的 联系
        *  数据操作：对数据库中各种对象的实力允许执行的操作的集合，包括操作及有关的操作规则
        *  数据得完整性约束条件：一组完整性规则，给定的数据模型中数据及其联系素偶具有的约值依存规则。
    * 常用逻辑模型：
        * 层次模型（树） 已被淘汰  表示一对多有优势 但是多对多 就比较麻烦了
        * 网状模型（图） 已被淘汰
        * 关系模型（表）
        * 面向对象数据模型  比较新 用的比较少
        * 对象关系数据模型  比较新 用的比较少
        * 半结构化数据模型  比较新 用的比较少
        ![avatar](http://118.31.20.205/images/1.2.6.png)
        ![avatar](http://118.31.20.205/images/1.2.7.png)

* 关系模型
    * 二维表
    * 优点：关系单一
    * 缺点：增加开发系统难度
### 1.3 数据库系统体系结构

* 型
    *  对某一类数据的结构和属性的说明
*  值
    *  是型的一个具体赋值
* 模式
![avatar](http://118.31.20.205/images/1.3.1.png)
* 外模式
    *  能够看见和使用的局部数据 
    *  模式与外模式的关系：一个模式有多个外模式
* 内模式
    * 记录的存储方式 （例如顺序存储）
    *  索引的组织方式
    *  书记是否压缩、加密等
* 数据库系统的两级映像
![avatar](http://118.31.20.205/images/1.3.2.png)
* BS
* CS 
* 分布式结构：地理上分散，逻辑上集中的数据库系统
**总结**
![avatar](http://118.31.20.205/images/总结1.png)
## 第二章关系数据库
### 2.1关系数据结构及其形式化

* 笛卡尔积
![avatar](http://118.31.20.205/images/2.1.1.png)
* 关系：笛卡尔积的有限子集，所以关系也是一个二维表。
* 超码：若关系中的某一个或多个属性的集合能唯一的表示一个远足，则成该属性或属性组为超码
* 候选码：如果构成超码属性组的任意真子集都不能成为超码，这样的最小码城围候选码
* 主码：唯一的候选码作为主码
 eg：![avatar](http://118.31.20.205/images/2.1.2.png)
 * 基本关系具有的性质
    *  列是同质的，每一列的分量是同一类型给的数据，来自同一个**<u>域</u>**
    *  不同列可出自通一个域，其中的每一列成为一个属性，不同的 属性 要给予不同的属性名
    *  列的顺序无所谓，列的次序可以任意交换
    *  任意两个元组的<u>**候选码**</u>不能相同
    *  行的顺序无所谓，行的次序可以人以交换
    *  分量必须取<u>**原子值**</u>，每一个份量都必须是不可分的数据项
* 关系和二维表之间的对应
![avatar](http://118.31.20.205/images/2.1.3.png)
* 关系模式：对关系的描述
    * 必须指出这个元祖集合的关系
    * 必须满足一定的完整性约束
    ![avatar](http://118.31.20.205/images/2.1.4.png)
  关系 模式简记为：R(U)或者R(A1,A2,,.......,An)
    R为关系名，A1,A2,...,An为属性名
    ![avatar](http://118.31.20.205/images/2.1.5.png)

| 名称     | 区别1        | 联系                       | 区别2               |
| -------- | ------------ | -------------------------- | ------------------- |
| 关系     | 关系是值     | 是关系模式某时刻的状态内容 | 动态的遂渐见变化 的 |
| 关系模式 | 关系模式是型 |                            | 静态的 稳定的       |
### 2.2关系操作 、 关系的完整性

* 关系完整性（针对主码--即主键  ）
    * 数据库的完整性，指数据的正确性和有效性。是指数据是符合现实世界语义、反映当前实际状况的。
    * 完整性约束：
        * 实体完整性：若属性A是基本关系R的主属性，则属性A不能取空值（主键不能为空）
* 参照完整性 （针对外码--即外键）
    * 外码：设F是基本关系R的一个或一组属性，但不是关系R的主码。如果F与基本关系S的主码Ks相对应，则称F是基本关系R的外码（说白了就是外键）
* 用户定义完整性 （没有统一规则 比如（成绩 不一定在 0- 100 比如四六级成绩 雅思 托福） unique、check、not null）
![avatar](http://118.31.20.205/images/2.2.1.png)
### 2.4关系代数

* 关系代数
    * 一种抽象的而查询语言、用对关系的运算来表达查询
    * 三个要素：
        * 运算对象：关系
        * 运算结果：关系
        * 运  算 符：四类
            * 集合运算符：将关系堪称元组的集合；
                * 运算时从关系的“水平”方向即 行的角度来进行
            * 专门的而运算符 ：
                * 不仅涉及行而且涉及列
            * 比较运算符（> < >= <= = !=）
                * 辅助专门的关系运算符进行操作
            * 逻辑运算符 (与 或 非)
                * 辅助专门的关系运算符进行操作
    *  运算分类：
        *  传统的集合运算：并、差、交、广义笛卡尔积
            *  并、差、交、要求：具有相同数目的属性、 相应的属性取自同一个域
        *  专门的运算关系：选择、投影、连接、除           
* 选择运算：（行运算）
![avatar](http://118.31.20.205/images/2.4.1.png)
* 投影运算：（列运算）



* 连接运算：
    * sie她连接：从两个关系的笛卡尔积中选区属性间满足一定条件的元祖
    * 等值连接：sie她为“=”的链接运算称为等值连接。
    * 自然连接：是一种特殊的等值连接（要求两个关系进行比较的份量必须是同名属性组、在等值连接的结果中去掉重复的属性列）
        自然连接中被舍弃的元祖城围悬浮元组
    * 外连接： 如果把悬浮元组也保存在R和S自然连接的结果管系统，而在其他属性上填空值，那么这种连接就叫外连接
    * 除法运算：   

**总结**
![avatar](http://118.31.20.205/images/总结2.png)